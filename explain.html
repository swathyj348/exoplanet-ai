<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explain - AI Interpretability | Exoplanet Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <!-- Animated starfield background -->
        <div class="background">
            <div class="base-gradient"></div>
            <div class="starfield"></div>
        </div>

        <!-- Main content -->
        <div class="content">
            <!-- Header -->
            <header class="header">
                <div class="container">
                    <div class="header-content">
                        <div class="logo-section">
                            <h1 class="title">Exoplanet Explorer</h1>
                            <p class="subtitle">NASA ML Research Platform</p>
                        </div>
                        <nav class="nav-menu">
                            <a href="index.html" class="nav-link">Home</a>
                            <a href="predict.html" class="nav-link">Predict</a>
                            <a href="explain.html" class="nav-link active">Explain</a>
                        </nav>
                    </div>
                </div>
            </header>

            <!-- Hero Section -->
            <section class="page-hero">
                <div class="container">
                    <div class="page-hero-content">
                        <div class="breadcrumb">
                            <a href="index.html">Home</a> / <span class="secondary-text">Explain</span>
                        </div>
                        
                        <h1 class="page-title">
                            <span class="secondary-text">Explainable AI</span> with SHAP
                        </h1>
                        
                        <p class="page-description">
                            Transparent machine learning through SHAP (SHapley Additive exPlanations) values, 
                            revealing how each astronomical parameter influences exoplanet classification decisions.
                        </p>
                    </div>
                </div>
            </section>

            <!-- SHAP Overview Section -->
            <section class="detail-section">
                <div class="container">
                    <div class="section-grid">
                        <div class="content-section">
                            <h2 class="section-title">
                                <span class="secondary-text">SHAP</span> Interpretability Framework
                            </h2>
                            
                            <p class="section-description">
                                SHAP values provide a unified approach to explaining the output of any machine learning model. 
                                Our implementation reveals which stellar parameters most strongly influence each prediction, 
                                making AI decisions transparent and scientifically interpretable.
                            </p>

                            <div class="feature-grid">
                                <div class="feature-item-detailed">
                                    <div class="feature-icon-large secondary-bg">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.51 2.51 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/>
                                        </svg>
                                    </div>
                                    <h3 class="feature-title-large">Feature Importance</h3>
                                    <p class="feature-desc-large">
                                        Quantify the contribution of each astronomical parameter to the final prediction. 
                                        Understand which measurements (orbital period, planet radius, stellar mass) 
                                        drive classification decisions.
                                    </p>
                                </div>

                                <div class="feature-item-detailed">
                                    <div class="feature-icon-large secondary-bg">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M3 3v18h18"/>
                                            <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
                                        </svg>
                                    </div>
                                    <h3 class="feature-title-large">Waterfall Visualizations</h3>
                                    <p class="feature-desc-large">
                                        Interactive waterfall charts show how each feature pushes the prediction 
                                        toward or away from each class. See the cumulative effect of all parameters 
                                        on the final classification outcome.
                                    </p>
                                </div>

                                <div class="feature-item-detailed">
                                    <div class="feature-icon-large secondary-bg">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"/>
                                            <path d="M8 12h8"/>
                                            <path d="M12 8v8"/>
                                        </svg>
                                    </div>
                                    <h3 class="feature-title-large">Model Transparency</h3>
                                    <p class="feature-desc-large">
                                        Build trust in AI predictions through mathematical explanations. 
                                        Each SHAP value represents the marginal contribution of a feature, 
                                        summing to the difference from baseline prediction.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="visualization-section">
                            <div class="shap-demo-card">
                                <h3 class="demo-title">SHAP Value Interpretation</h3>
                                <div class="demo-content">
                                    <div class="demo-example">
                                        <div class="example-feature">
                                            <span class="feature-name">Orbital Period</span>
                                            <div class="feature-bar positive">
                                                <span class="feature-value">+0.23</span>
                                            </div>
                                        </div>
                                        <div class="example-feature">
                                            <span class="feature-name">Planet Radius</span>
                                            <div class="feature-bar positive">
                                                <span class="feature-value">+0.18</span>
                                            </div>
                                        </div>
                                        <div class="example-feature">
                                            <span class="feature-name">Stellar Mass</span>
                                            <div class="feature-bar negative">
                                                <span class="feature-value">-0.12</span>
                                            </div>
                                        </div>
                                        <div class="example-feature">
                                            <span class="feature-name">Equilibrium Temp</span>
                                            <div class="feature-bar positive">
                                                <span class="feature-value">+0.08</span>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="demo-explanation">
                                        Positive values (green) increase probability of "Confirmed Exoplanet" 
                                        classification, while negative values (red) decrease it.
                                    </p>
                                </div>
                            </div>

                            <div class="interpretability-benefits">
                                <h3 class="benefits-title">Why Explainability Matters</h3>
                                <div class="benefits-list">
                                    <div class="benefit-item">
                                        <div class="benefit-icon">ðŸ”¬</div>
                                        <div class="benefit-text">
                                            <h4>Scientific Validation</h4>
                                            <p>Verify that AI decisions align with known astrophysical principles</p>
                                        </div>
                                    </div>
                                    <div class="benefit-item">
                                        <div class="benefit-icon">ðŸŽ¯</div>
                                        <div class="benefit-text">
                                            <h4>Error Detection</h4>
                                            <p>Identify when models rely on irrelevant or biased features</p>
                                        </div>
                                    </div>
                                    <div class="benefit-item">
                                        <div class="benefit-icon">ðŸ“Š</div>
                                        <div class="benefit-text">
                                            <h4>Research Insights</h4>
                                            <p>Discover new relationships between stellar parameters</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Technical Implementation Section -->
            <section class="technical-section">
                <div class="container">
                    <h2 class="section-title text-center">SHAP Implementation Details</h2>
                    
                    <div class="tech-grid">
                        <div class="tech-card">
                            <div class="tech-icon secondary-color">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 9V5a3 3 0 0 0-6 0v4"/>
                                    <rect x="2" y="9" width="20" height="12" rx="2" ry="2"/>
                                </svg>
                            </div>
                            <h3 class="tech-title">TreeExplainer</h3>
                            <p class="tech-description">
                                Optimized SHAP implementation for tree-based models like XGBoost. 
                                Computes exact Shapley values efficiently using game theory principles 
                                adapted for decision tree ensembles.
                            </p>
                            <ul class="tech-list">
                                <li>Polynomial-time exact computation</li>
                                <li>Tree-specific optimizations</li>
                                <li>Interaction effect detection</li>
                                <li>Feature coalition analysis</li>
                            </ul>
                        </div>

                        <div class="tech-card">
                            <div class="tech-icon secondary-color">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                    <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                                    <line x1="12" y1="22.08" x2="12" y2="12"/>
                                </svg>
                            </div>
                            <h3 class="tech-title">Additive Attribution</h3>
                            <p class="tech-description">
                                SHAP values satisfy four desirable properties: efficiency, symmetry, 
                                dummy feature, and additivity. This ensures consistent and mathematically 
                                sound explanations across all predictions.
                            </p>
                            <ul class="tech-list">
                                <li>Shapley value computation</li>
                                <li>Game theory foundations</li>
                                <li>Consistent attributions</li>
                                <li>Baseline comparison</li>
                            </ul>
                        </div>

                        <div class="tech-card">
                            <div class="tech-icon secondary-color">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                    <line x1="16" y1="2" x2="16" y2="6"/>
                                    <line x1="8" y1="2" x2="8" y2="6"/>
                                    <line x1="3" y1="10" x2="21" y2="10"/>
                                </svg>
                            </div>
                            <h3 class="tech-title">Interactive Visualization</h3>
                            <p class="tech-description">
                                Real-time SHAP waterfall charts and force plots generated using Plotly. 
                                Explore how changing individual features affects the overall prediction 
                                through interactive visualizations.
                            </p>
                            <ul class="tech-list">
                                <li>Waterfall chart generation</li>
                                <li>Force plot visualizations</li>
                                <li>Feature ranking displays</li>
                                <li>Interactive exploration</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SHAP Methodology Section -->
            <section class="methodology-section">
                <div class="container">
                    <div class="methodology-content">
                        <h2 class="section-title">Understanding SHAP Values</h2>
                        
                        <div class="methodology-grid">
                            <div class="method-card">
                                <div class="method-number">1</div>
                                <div class="method-content">
                                    <h3 class="method-title">Baseline Calculation</h3>
                                    <p class="method-description">
                                        Establish the baseline prediction (expected value) when no features are known. 
                                        This represents the model's average prediction across the training dataset.
                                    </p>
                                </div>
                            </div>

                            <div class="method-card">
                                <div class="method-number">2</div>
                                <div class="method-content">
                                    <h3 class="method-title">Feature Contributions</h3>
                                    <p class="method-description">
                                        Calculate how much each feature value pushes the prediction away from baseline. 
                                        Positive values increase the probability, negative values decrease it.
                                    </p>
                                </div>
                            </div>

                            <div class="method-card">
                                <div class="method-number">3</div>
                                <div class="method-content">
                                    <h3 class="method-title">Additive Decomposition</h3>
                                    <p class="method-description">
                                        Sum all SHAP values plus the baseline to exactly equal the final prediction. 
                                        This mathematical guarantee ensures complete explanation coverage.
                                    </p>
                                </div>
                            </div>

                            <div class="method-card">
                                <div class="method-number">4</div>
                                <div class="method-content">
                                    <h3 class="method-title">Visualization & Insights</h3>
                                    <p class="method-description">
                                        Generate waterfall charts showing the step-by-step contribution of each feature. 
                                        Identify which astronomical parameters most influence exoplanet detection.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="cta-section-detailed">
                <div class="container">
                    <div class="cta-content">
                        <h2 class="cta-title">Explore AI Explainability</h2>
                        <p class="cta-description">
                            See SHAP values in action with real NASA data. Understand how our AI makes decisions 
                            and gain insights into the astronomical factors that indicate exoplanet presence.
                        </p>
                        <div class="cta-buttons">
                            <button id="startExplaining" class="cta-button secondary">
                                <span class="button-content">
                                    Explore SHAP Analysis
                                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.51 2.51 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/>
                                    </svg>
                                </span>
                            </button>
                            <a href="predict.html" class="cta-button outline">
                                Back to Predictions
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Back to Home -->
            <section class="navigation-section">
                <div class="container">
                    <div class="nav-buttons">
                        <a href="predict.html" class="nav-button">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5m7-7-7 7 7 7"/>
                            </svg>
                            Back to Predictions
                        </a>
                        <a href="index.html" class="nav-button">
                            Home
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>